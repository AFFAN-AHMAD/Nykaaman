<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Buy Men’s Beard Care, Skincare &amp; Supplements At Best Prices in India |
      Nykaa Man
    </title>

    <style>
      #payDiv{
        width: 30%;
        border: 1px solid whitesmoke;
        background-color: #fff;
        font-family: "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
        margin-left:18px
      }
      #pay{
        width:100%;
        height:50px;
        border:1px solid #fff;
        background-color: rgb(241, 241, 241);
        text-align: center;
      
       
      }
      #details div{
        display: flex;
        justify-content: space-between;
        padding:0px 20px
      }
      #disco{
        color:darkslategray
      }
      #gt{
        color:white;
        background-color: darkslategray;
        font-size: 20px;
      }

    </style>
    <link
      rel="icon"
      href="//www.nykaaman.com/skin/frontend/nykaa/men/desktop/images/favicon.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../css/payment.css" />
  </head>
  <body>
    <!-- navbar -->
    <div id="container"></div>

    <!-- heading -->
    <div id="safety">
      <div id="i"><p>i</p></div>
      <p>
        Please use a digital payment method & help us ensure contactless
        delivery for your safety
      </p>
    </div>
    <div id="methods">CHOOSE PAYMENT METHOD</div>

    <!-- < class="container"> -->
    <div class="middlecont">
      <div class="lleft">
        <div class="wallet">
          <div id="db" class="wallets">
            <div class="cont-wal">Credit/Debit Card</div>
          </div>

          <div class="wallets">
            <div class="cont-wal">UPI</div>
          </div>

          <div class="wallets">
            <div class="cont-wal">GooglePay</div>
          </div>

          <div class="wallets">
            <div class="cont-wal">Net Banking</div>
          </div>

          <div class="wallets">
            <div class="cont-wal">Mobile Wallets</div>
          </div>

          <div class="wallets">
            <div class="cont-wal">Cash on Delivery</div>
          </div>

          <div class="wallets">
            <div class="cont-wal">Gift Card</div>
          </div>
        </div>
      </div>

      <div class="left">
        <div class="credicard">
          <div class="upper">
            <div class="creditdebit">Credit/Debit Card</div>
          </div>
          <div class="cardin">
            <input
              class="all"
              type="number"
              placeholder="Card Number"
              id="cardnum"
              maxlength="16"
            />
          </div>
          <div class="expisc">
            <div
              class="expiry"
              style="
                color: black;
                font-size: 17px;
                margin-top: 10px;
                margin-bottom: -20px;
              "
            >
              Expiry
            </div>
          </div>

          <div class="namecard">
            <div id="datediv" style="display: flex; align-items: center">
              <input
                class="all"
                type="text"
                id="month"
                placeholder="MM"
                maxlength="2"
                oninput="this.value=this.value.replace(/[^00-99]/g,'');"
              />
              <p id="slash">/</p>
              <input
                class="all"
                type="text"
                id="year"
                placeholder="YY"
                maxlength="2"
                oninput="this.value=this.value.replace(/[^00-99]/g,'');"
              />
            </div>
            <div class="check" class="all">
              <input
                class="all"
                type="text"
                id="cvv"
                placeholder="CVV"
                maxlength="3"
                oninput="this.value=this.value.replace(/[^000-999]/g,'');"
              />
            </div>
          </div>
          <div class="makepayment">
            <div class="paymentmake" onclick="makepayment()">PAY NOW ></div>
          </div>
        </div>
      </div>

      <!-- checkout -->
      <div id="payDiv">
        <div>
          
         <div id="pay"><h3>Payment Details</h3></div></div>
         <div id="details">
             <div> <p>Bag Total</p> <p id="total"></p>
             </div>
             <div id="disco"> <p id="disc">Bag Discount</p> <p id="distotal"></p>
             </div>
             <div>
                 <p>Sub Total</p> <p id="subtotal"></p>
             </div>
             <div>
                 <p>Shipping Charge</p>
                 <p>Free</p>
             </div>
             <div id="gt">
                 <h4>Grand Total</h4>
                 <h4 id="grandtotal"></h4>
             </div>
        </div>
        </div>
       
      </div>
    </div>

    <div id="down"></div>
  </body>
</html>

<script type="module">
  import nav from "../components/addnav.js";
  let navbar = document.getElementById("container");
  navbar.innerHTML = nav();

  import foot from "../components/addfoot.js";
  let footer = document.getElementById("down");
  footer.innerHTML = foot();

  const select=(id)=>{
        return document.querySelector(id)
    }
    const make=(id)=>{
        return document.createElement(id)
    }


    
  // payment details
  var cartArr = JSON.parse(localStorage.getItem('cartlocal')) || []
  console.log(cartArr)


  function cartfun(data)
  {
    let amount = data.reduce(function (a, e) {
    return a + (e.mrp*e.quant);
  }, 0);

  let discountedprice = data.reduce(function (a, e) {
    return a + Math.floor((e.mrp *e.quant* e.disc) / 100);
  }, 0);

  let subtotal = amount - discountedprice;
  console.log(subtotal);
  console.log(amount);
  console.log(discountedprice);

  select("#total").innerText = `₹ ${amount}`;
  select("#distotal").innerText = `-₹ ${discountedprice}`;
  select("#subtotal").innerText =  `₹ ${subtotal}`;
  select("#grandtotal").innerHTML = `₹ ${subtotal}`;
  select("#gdtotal").innerHTML = `₹ ${subtotal}`;
  }
  cartfun(cartArr)
</script>
<script src="../js/cardData.js"></script>
<script src="../js/payment.js"></script>
